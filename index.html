<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Command Bar Search</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Use the Inter font family */
        body {
            font-family: sans-serif;
        }

        span {
            min-width: 3rem;
        }
    </style>
</head>

<body class="bg-gray-900 text-gray-200 flex items-center justify-center min-h-screen">

    <div class="w-full max-w-3xl p-4 md:p-8">
        <div class="bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl p-6">

            <h1 class="text-2xl md:text-3xl font-bold text-center text-white mb-2">Command Bar</h1>
            <p class="text-center text-gray-400 mb-6">Enter a prefix followed by your search query.</p>

            <!-- The form that contains the input field -->
            <form id="command-form" class="mb-8">
                <input type="text" id="command-input" autofocus placeholder="e.g., g workday" autocomplete="off"
                    class="w-full p-4 bg-gray-900 border border-gray-600 rounded-lg text-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200">
            </form>

            <!-- List of available search providers -->
            <div>
                <h2 class="text-lg font-semibold text-gray-300 mb-4">Available Prefixes:</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-7 gap-y-4">

                    <!-- Column 1 -->
                    <ul id="provider-list" class="space-y-4 text-gray-400">
                        <!-- My notes -->
                        <li id="n" data-url="https://sglmr.com/notes/" data-querystring="?query={}"
                            class="flex items-center cursor-pointer">
                            <span
                                class="bg-orange-400 text-black text-center font-bold rounded-md px-1 py-0.5 mr-3">n</span>
                            <span>Notes</span>
                        </li>
                        <!-- Workday Community -->
                        <li id="c" data-url="https://resourcecenter.workday.com/en-us/wrc/home/search.html"
                            data-querystring="#q={}" class="flex items-center cursor-pointer">
                            <span
                                class="bg-teal-700 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">c</span>
                            <span>WD Community</span>
                        </li>
                        <!-- Workday System Access Request -->
                        <li id="sa"
                            data-url="https://strykercorp.service-now.com/esc?id=sc_cat_item&sys_id=cb59fa6f47ab29d4daf2b5f8536d43e9&table=sc_cat_item"
                            data-querystring="" class="flex items-center cursor-pointer">
                            <span
                                class="bg-yellow-400 text-black text-center font-bold rounded-md px-1 py-0.5 mr-3">sa</span>
                            <span>Workday System Access Request</span>
                        </li>
                        <!-- HR Reporting Request -->
                        <li id="hrd"
                            data-url="https://strykercorp.service-now.com/esc?id=sc_cat_item&sys_id=e8877445472ee194daf2b5f8536d43a9&table=sc_cat_item"
                            data-querystring="" class="flex items-center cursor-pointer">
                            <span
                                class="bg-yellow-400 text-black text-center font-bold rounded-md px-1 py-0.5 mr-3">hrd</span>
                            <span>HR Reporting Request</span>
                        </li>
                        <!-- IT General Ticket -->
                        <li id="it"
                            data-url="https://strykercorp.service-now.com/sp?id=sc_cat_item&sys_id=358634d713eaf2809ac6b8e32244b0ef&table=sc_cat_item"
                            data-querystring="" class="flex items-center cursor-pointer">
                            <span
                                class="bg-yellow-400 text-black text-center font-bold rounded-md px-1 py-0.5 mr-3">it</span>
                            <span>IT General Ticket</span>
                        </li>
                        <!-- Google -->
                        <li id="g" data-url="https://www.google.com/" data-querystring="search?q={}"
                            class="flex items-center cursor-pointer">
                            <span
                                class="bg-emerald-600 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">g</span>
                            <span>Google</span>
                        </li>
                        <!-- RFC -->
                        <!-- "https://stryker.sharepoint.com/sites/TeamAntzHRSystems-DocumentationandTesting/Shared Documents/Documentation and Testing/RFC" -->
                        <li id="rfc"
                            data-url="https://stryker.sharepoint.com/sites/TeamAntzHRSystems-DocumentationandTesting/Shared%20Documents/Forms/AllItems.aspx?id=%2Fsites%2FTeamAntzHRSystems%2DDocumentationandTesting%2FShared%20Documents%2FDocumentation%20and%20Testing%2FRFC"
                            data-querystring="&q={}&sortField=Modified&isAscending=false" class="flex items-center cursor-pointer">
                            <span
                                class="bg-emerald-600 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">rfc</span>
                            <span>RFC Documents</span>
                        </li> <!-- ADO -->
                        <li id="ado" data-url="https://strykervsts-corp.visualstudio.com/" data-querystring=""
                            class="flex items-center cursor-pointer">
                            <span
                                class="bg-emerald-600 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">ado</span>
                            <span>ADO Test Projects</span>
                        </li>
                    </ul>

                    <!-- Column 2 -->
                    <ul id="provider-list" class="space-y-4 text-gray-400">

                        <!-- Workday Sandbox -->
                        <li id="s" data-url="https://impl.workday.com/stryker/d/search.htmld" data-querystring="?q={}"
                            class="flex items-center cursor-pointer">
                            <span
                                class="bg-indigo-600 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">s</span>
                            <span>Sandbox Tenant</span>
                        </li>

                        <!-- Stryker 1 -->
                        <li id="s1" data-url="https://impl.workday.com/stryker1/d/search.htmld" data-querystring="?q={}"
                            class="flex items-center cursor-pointer">
                            <span
                                class="bg-sky-600 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">s1</span>
                            <span>
                                <pre>stryker1</pre> <small>Payroll, Time. Absence</small>
                            </span>
                        </li>
                        <!-- Stryker 2 -->
                        <li id="s2" data-url="https://impl.workday.com/stryker2/d/search.htmld" data-querystring="?q={}"
                            class="flex items-center cursor-pointer">
                            <span
                                class="bg-sky-600 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">s2</span>
                            <span>
                                <pre>stryker2</pre> Comp, Talent, CAR, Skills
                            </span>
                        </li>
                        <!-- Stryker 3 -->
                        <li id="s3" data-url="https://impl.workday.com/stryker3/d/search.htmld" data-querystring="?q={}"
                            class="flex items-center cursor-pointer">
                            <span
                                class="bg-sky-600 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">s3</span>
                            <span>
                                <pre>stryker3</pre> HCM, TA, Offer & Change Job, Benevity
                            </span>
                        </li>
                        <!-- Stryker 4 -->
                        <li id="s4" data-url="https://impl.workday.com/stryker4/d/search.htmld" data-querystring="?q={}"
                            class="flex items-center cursor-pointer">
                            <span
                                class="bg-sky-600 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">s4</span>
                            <span>
                                <pre>stryker4</pre> Reporting, EMEA Payroll, HS & Paradox
                            </span>
                        </li>
                        <!-- Stryker 5 -->
                        <li id="s5" data-url="https://impl.workday.com/stryker5/d/search.htmld" data-querystring="?q={}"
                            class="flex items-center cursor-pointer">
                            <span
                                class="bg-sky-600 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">s5</span>
                            <span>
                                <pre>stryker5</pre> Integrations, M&A, Restructures, Accelerate
                            </span>
                        </li>
                        <!-- Stryker 7 -->
                        <li id="s7" data-url="https://impl.workday.com/stryker7/d/search.htmld" data-querystring="?q={}"
                            class="flex items-center cursor-pointer">
                            <span
                                class="bg-sky-600 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">s7</span>
                            <span>
                                <pre>stryker7</pre> Workday Release/Kainos Staging & Testing
                            </span>
                        </li>
                        <!-- Stryker 9 -->
                        <li id="s9" data-url="https://impl.workday.com/stryker9/d/search.htmld" data-querystring="?q={}"
                            class="flex items-center cursor-pointer">
                            <span
                                class="bg-sky-600 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">s9</span>
                            <span>
                                <pre>stryker9</pre> Europe WFM & Payroll Transformation
                            </span>
                        </li>
                        <!-- Workday Production -->
                        <li id="p" data-url="https://www.myworkday.com/stryker/d/search.htmld" data-querystring="?q={}"
                            class="flex items-center cursor-pointer">
                            <span
                                class="bg-red-700 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">p</span>
                            <span>Production Tenant</span>
                        </li>
                        <!-- Workday GMS -->
                        <li id="gms" data-url="https://impl.workday.com/stryker_gms1/d/search.htmld"
                            data-querystring="?q={}" class="flex items-center cursor-pointer">
                            <span
                                class="bg-indigo-600 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">gms</span>
                            <span>GMS tenant</span>
                        </li>
                        <!-- Stryker Preview -->
                        <li id="pre" data-url="https://impl.workday.com/stryker_preview/d/search.htmld"
                            data-querystring="?q={}" class="flex items-center cursor-pointer">
                            <span
                                class="bg-indigo-600 text-white text-center font-bold rounded-md px-1 py-0.5 mr-3">pre</span>
                            <span>
                                <pre>Preview Tenant</pre> Benefits & Kainos
                            </span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Get references to the form and input elements
        const commandForm = document.getElementById('command-form');
        const commandInput = document.getElementById('command-input');

        // Listen for the form's 'submit' event (which triggers on 'Enter' key press)
        commandForm.addEventListener('submit', function (event) {
            // Prevent the default form submission behavior which reloads the page
            event.preventDefault();

            // Get the full text from the input field and trim whitespace
            const inputValue = commandInput.value.trim();
            if (!inputValue) {
                // If the input is empty, do nothing.
                return;
            }

            // Split the input value into parts based on spaces
            const parts = inputValue.split(' ');
            const providerId = parts[0];
            const providerElement = document.getElementById(providerId);

            // Remove any previous error styling
            commandInput.classList.remove('border-sky-600', 'focus:ring-sky-600');

            // Check if a matching command prefix was found
            if (providerElement) {
                // --- LOGIC FOR KNOWN COMMANDS (Original Behavior) ---
                const queryParts = parts.slice(1);
                const searchQuery = queryParts.join(' ');
                const baseUrl = providerElement.dataset.url;
                const queryStringTemplate = providerElement.dataset.querystring;

                let finalUrl = baseUrl;

                if (searchQuery) {
                    const encodedQuery = encodeURIComponent(searchQuery);
                    const finalQueryString = queryStringTemplate.replace('{}', encodedQuery);
                    finalUrl += finalQueryString;
                }
                console.log(`Redirecting to: ${finalUrl}`);
                window.location.href = finalUrl;
            } else {
                // --- NEW: FALLBACK LOGIC FOR UNKNOWN COMMANDS ---

                // 1. Check if the input looks like a URL (e.g., "loopwerk.io")
                // This simple check looks for a dot and no spaces.
                const isUrl = inputValue.includes('.') && !inputValue.includes(' ');

                if (isUrl) {
                    // If it's a URL, navigate to it, adding "https://" if needed.
                    let destinationUrl = inputValue;
                    if (!destinationUrl.startsWith('http://') && !destinationUrl.startsWith('https://')) {
                        destinationUrl = 'https://' + destinationUrl;
                    }
                    console.log(`Navigating to URL: ${destinationUrl}`);
                    window.location.href = destinationUrl;
                } else {
                    // 2. If it's not a command or a URL, default to a Google search.
                    console.log(`No command found. Defaulting to Google search for: "${inputValue}"`);
                    const encodedQuery = encodeURIComponent(inputValue);
                    window.location.href = `https://www.google.com/search?q=${encodedQuery}`;
                }
            }
        });

        // Add click listeners to all <li> elements with a data-url attribute
        document.querySelectorAll('li[data-url]').forEach(item => {
            item.addEventListener('click', function () {
                const url = this.dataset.url;
                if (url) {
                    window.location.href = url;
                }
            });
        });
    </script>

</body>

</html>
